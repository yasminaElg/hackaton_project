# Objectives

- Create a web application project to manage the glorious Hackatons
- Gain precious wisdom from other devs via personalized trainings
- Try and learn by yourself how to use the technologies and tools we use
- Learn the processes
- Ask questions
- Gain madz skillz

# What's the plan?

You will be building a Hakacton Management web app, step-by-step

This doc is going to guide you through every steps to setup and implement the project, it will tell you what to start with and what to do.
You will go through every big aspects of a project like: User interface development, design integration and backend implementation.
You'll just have to follow the guide to discover and try / fiddle with new technologies / libraries by yourself.

Before using new, big, technologies or libraries we'll give you a little introduction or a livecoding session to give you all the keys to start using it.

You should lookup things you don't know on the internet.
Learning by yourself via Google, Stackoverflow, libraries docs / API or any other knowledge base is a major part of a developer's life and a skill you'll need to have and improve.

If you feel stuck, don't understand, or need more more information about something don't hesitate to ask questions. Don't stay stuck for too long.

Strength and honor.

# What are you building?

You will be making a React-based web app and its backend to manage the Hackatons.

## Features

### Front

- A landing page which showcases the upcoming Hackaton and a list of past hackatons
- An admin dashboard with authentication (login)
  - A list of ALL hackatons with create, update and delete buttons
  - A form to create or update a hackaton
- Kevin's glorious design implementation

### Backend

- A RESTful API with:
  - Authentication
  - CRUDL
  - Data validation
  - ORM integration

# Let's get started

## Training

Let's kick off your first day with some trainings:

> - _JS & functionnal programming live coding demo with Arnaud_
> - _Introduction to React with Harold_
> - _Introduction to Styled Component live coding demo with Arnaud_

## Task: Setup the project

Now you need to setup the React project. To do so, you could startoff with a package.json file and download React and other packages via NPM package manager yourself, you could also create the first js files. Luckily, people already did this for you.

To setup a project from scratch you can use `create-react-app`, it's a package that can create an initial project structure, with all dependencies for React already added to the package.json. It's essentialy a ready-to-use React project.

Move to the folder in which you wish to create the project. This will likely be `~/Documents`.
Now, you can globally install `create-react-app` and bootstrap the project in the current folder at the same time with a `yarn` command. `yarn` is a package manager much like `npm`.

```
yarn create-react-app hackaton
```

Your React project is now ready to use! Go to the newly created directory and open webstorm (or VSCode) in this directory.

```
webstorm .
// or
code .
```

You can row run the app via the commands `yarn start` it will run a development server. Access it via `http://localhost:3000`

We don't need all the stuff generated by `create-react-app`, you can remove the following files:

```
src/app.css
src/index.css
src/app.test.js
src/serviceWorker.js
src/logo.svg
```

You should be left with

```
src/app.js
src/index.js
```

Don't forget to remove all related imports and reference to those files in `app.js` and `index.js`

`index.js` is the entry point to the application, it mounts the react component `App` into the `div` tag with the ID `root` in `public/index.html`.
`App.js`is the first react component of the application. This is the root of the React app. You should start here.

You can edit `App.js` and see the modification in your browser, the react app reloads everytime you save your changes!

**Finally, don't forget the version control.
Create a repository on GitHub and push your new project. You will find plenty of tutorials on how to do so on Google :D.
Don't forget to commit on a regular basis when doing the project**

## Task: Frontend - The landing page

Your first task is to implement the landing page of the app.
The front-side of the app is a single page containing all the information of the upcoming hackaton, and a list of the previous one. See the design below.

- The list of hackaton, with the next one showcased
- A button to access the admin side (will be useable later)

A hackaton has a `title`, a `date` (a DateTime object! See the Luxon library doc), an `address` and a `description`.
Since we have no database, you can just fill the hackatons with placeholder or lorem text for now, it will be fetched later from the backend.

Try and discover React! Make use of components.

You should also implement the design as you go, don't forget to use `Styled Components` as shown before.
You should make the landing page look like this:

[See the full design here](https://projects.invisionapp.com/prototype/hackathon-cjo4ea2kt005izz01ume85nlm/play/edb83548)

## Training

Let's get started with the backend:

> - _Node.js introduction with Arnaud_
> - _Express introduction with Arnaud_

## Task: Backend - First routes

Now, time to add a backend to your React app to be able to CRUDL hackatons from a database.

To save you the hassle to make a new Node project, we've made a ready to use backend project to get started.
Go to [this Github project](https://github.com/shippr-team/pioupiou-backend) (here) and read the `README.md` to know what tools are at your disposal and how they work.

The objective is to make a public REST API for the front to connect to (Authentication to make it private will come later).
It should consist of 5 routes for all CRUDL actions:

- A get all route, to fetch the hackaton list.
- A get one route, to fetch a specific hackaton.
- A create route, to create a new hackatons and store it in the "DB".
- An update route, to update an existing hackaton.
- A delete route, to delete an existing hackaton.

To store the data, we won't use a database yet. It will come later. Your routes can acces an in-memory DB (see the project's README).

**Your task is to create all these routes and use the provided database functions to make them work.**

Don't forget to:

- Validate any params ID to make sure it exists in the DB.
- Return a relevant HTTP status code.
- Return the hackaton data when necessary (create, update).

I'll let you get into this, and implement the routes the way you like.
The point is to be able to acces the API from the front via an URL like `https://localhost:3003/hackatons/` to perform the 5 CRUDL actions.

## Training

> - _React Router live coding demo with Arnaud_
> - _Axios live coding demo with Arnaud_

## Task: Frontend - Create forms and connect to the REST API

### Front-side

Now that you have a backend running, you can send requests to CRUDL data.

The first step is to connect the front-end hackaton list to the real hackaton data.
Plug the landing page to the read route, to fetch all hackaton data and replace the placeholder/lorem you used before with the real DB data.

### Back-side

To be able to create, update or delete hackatons, you need an admin interface to do so.
So the next step is to create a new page on the app, and add navigation (via React Router) to access it via the button on the landing page (authorization later).

The admin part should be composed of:

- A list of ALL hackatons, with buttons to update or delete on each row
- A form to create/update hackatons

You should have all the knowledge necessary to create your own forms with react.

### Authorizations

To finish off, the admin side should only be accessed by authorized member only. We won't make a full login/create account process. We will use the authentication token provided by the backend.

You should prevent acces to the admin side to anyone without an authentication token.
To simulate the use of a "login" functionnality you can just have a `Login` button which calls the `/system/login` route on the backend to get a token. When a user has a token, access is granted.

You're free to make it look the way you want! Have fun :)

## Training

> - _JOI live coding demo with Arnaud_
> - _Introduction to the authentication flow_

## Task: Backend - Secure backend with MORE MIDDLEWARES!

Now that you have a fully working CRUDL to manage hackaton, we will improve it a bit to be more secure.

First, you want your routes to not be accessible for everyone. Only authenticated user should be able to access them.
To do so, everyone calling a backend route should provide authorization headers containing a token. The token will be verified by a middleware in the backend to grant (or deny) access to the route.

So, you need to do three things:

- Plug the provided authentication middleware in every CRUDL backend route
  - Use `validateToken` from `src/middlewared/authentication.js` in every CRUDL routes.
- In the front, get an authentication token from the backend.
  - GET a token from the backend route `/system/login`.
- In the front, send the token for every front-end request to the backend.
  - In Axios, pass `{headers: {authorization: yourToken}}` to every CRUDL call.

Now, every route should be protected. Time to add validation to the data sent to the backend.

Every data sent to the backend should be validated, so you know exactly what you are receiving.
You should add middlewares to the routes to validates the data received to match a JOI schema.

```
{
  title: String
  description: String
  address: String
  date: String (as ISO Date format!)
}
```

Go on and try this before going to the next section.

## Training

> - _Docker introduction with Arnaud_
> - _TypeORM live coding demo with Arnaud_

## Task: Backend - Add a database and map it with TypeORM

We won't use the in-memory DB anymore and now use a real database, with TypeORM.

How to setup:

- You will need to run a docker container containing the PostgresSQL DB, you can use `docker-compose up`, because the docker-compose file is already setup for you.
- Then, you will need to connect TypeORM to the DB (check the TypeORM doc to know how to do so). Use the provided config file: `src/database/config.js`.

Now that the connection is established, you can start creating the hackaton entity. Don't forget to add the entity in the config file.

When the entity is created, you can start updating the routes to implement TypeORM functionnalities and use the real DB!

In the end, the app should work exactly like before but instead of having an in-memory you will have a real and persisting DB!

## Training

> - _Redux introduction with Arnaud_
> - _Advanced React with Antonio_
> - _Final form introduction with Arnaud_

## Task: Frontend - Improve your spaghetti

Now that you understand what's Redux and what problems it can solve, use it to store things globally like the authentication token or the hackaton list.

For the forms, you now see why final-form is important, and how easy to use it is. Change your "vanilla" forms and implement Final Form everywhere.

### You're done with the project! Yay \o/ Now, time to join the battlefield, but first ...

## Training

> - _Jira introduction with Arnaud_
> - _GIT introduction with Arnaud_
> - _Pull requests introduction with Arnaud_

_Now you're really ready to take arms an work on the shippr's products :)_
